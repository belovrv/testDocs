<?xml version='1.0' encoding='UTF-8'?><topic xsi:noNamespaceSchemaLocation="https://resources.jetbrains.com/stardust/topic.v2.xsd" meta-keywords="" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="statistics" title="Statistics" _md-based="true"> 
<p _o="97" _o-sc="4,0" _o-l="4" _o-e="5,0" _o-tl="-1" _o-s="4,0" _o-cl="0" id="f699d412">Available statistics:</p>
<list _o="119" _o-sc="5,0" _o-l="5" _o-e="11,0" _o-tl="-1" _o-s="5,0" _o-cl="0" id="eaace61">
<li _o="119" _o-sc="5,2" _o-l="5" _o-e="6,0" _o-tl="-1" _o-s="5,0" _o-cl="0" id="94adef20"><a _o="121" _o-sc="5,3" LinkStatus="UNKNOWN" _o-l="5" _o-e="5,19" _o-tl="-1" _o-s="5,2" href="count.md" _o-cl="2" id="24c181d1">count</a></li>
<li _o="139" _o-sc="6,2" _o-l="6" _o-e="7,0" _o-tl="-1" _o-s="6,0" _o-cl="0" id="713e5036"><a _o="141" _o-sc="6,3" LinkStatus="UNKNOWN" _o-l="6" _o-e="6,15" _o-tl="-1" _o-s="6,2" href="sum.md" _o-cl="2" id="c02e2f7c">sum</a></li>
<li _o="155" _o-sc="7,2" _o-l="7" _o-e="8,0" _o-tl="-1" _o-s="7,0" _o-cl="0" id="46e05e60"><a _o="157" _o-sc="7,3" LinkStatus="UNKNOWN" _o-l="7" _o-e="7,22" _o-tl="-1" _o-s="7,2" href="minmax.md" _o-cl="2" id="c9ec8142">min/max</a></li>
<li _o="178" _o-sc="8,2" _o-l="8" _o-e="9,0" _o-tl="-1" _o-s="8,0" _o-cl="0" id="c835a294"><a _o="180" _o-sc="8,3" LinkStatus="UNKNOWN" _o-l="8" _o-e="8,17" _o-tl="-1" _o-s="8,2" href="mean.md" _o-cl="2" id="e38301f0">mean</a></li>
<li _o="196" _o-sc="9,2" _o-l="9" _o-e="10,0" _o-tl="-1" _o-s="9,0" _o-cl="0" id="44d19aca"><a _o="198" _o-sc="9,3" LinkStatus="UNKNOWN" _o-l="9" _o-e="9,21" _o-tl="-1" _o-s="9,2" href="median.md" _o-cl="2" id="458f9c20">median</a></li>
<li _o="218" _o-sc="10,2" _o-l="10" _o-e="11,0" _o-tl="-1" _o-s="10,0" _o-cl="0" id="f2febd92"><a _o="220" _o-sc="10,3" LinkStatus="UNKNOWN" _o-l="10" _o-e="10,15" _o-tl="-1" _o-s="10,2" href="std.md" _o-cl="2" id="8195e86b">std</a></li>
</list>
<p _o="235" _o-sc="12,0" _o-l="12" _o-e="13,0" _o-tl="-1" _o-s="12,0" _o-cl="0" id="de103480">Every statistic can be used in aggregations of:</p>
<list _o="283" _o-sc="13,0" _o-l="13" _o-e="18,0" _o-tl="-1" _o-s="13,0" _o-cl="0" id="bacc8c9d">
<li _o="283" _o-sc="13,2" _o-l="13" _o-e="14,0" _o-tl="-1" _o-s="13,0" _o-cl="0" id="4bd0e63"><code _o="285" _o-sc="13,3" _o-l="13" _o-e="13,13" _o-tl="-1" _o-s="13,2" _o-cl="2" id="e8c78355">DataFrame</code></li>
<li _o="297" _o-sc="14,2" _o-l="14" _o-e="15,0" _o-tl="-1" _o-s="14,0" _o-cl="0" id="3be3cad7"><code _o="299" _o-sc="14,3" _o-l="14" _o-e="14,14" _o-tl="-1" _o-s="14,2" _o-cl="2" id="15062178">DataColumn</code></li>
<li _o="312" _o-sc="15,2" _o-l="15" _o-e="16,0" _o-tl="-1" _o-s="15,0" _o-cl="0" id="a281e665"><a _o="314" _o-sc="15,3" LinkStatus="UNKNOWN" _o-l="15" _o-e="15,34" anchor="groupby-statistics" _o-tl="-1" _o-s="15,2" _o-cl="2" id="f63dcf8"><code _o="315" _o-sc="15,4" _o-l="15" _o-e="15,12" _o-tl="-1" _o-s="15,3" _o-cl="3" id="e7f21964">GroupBy</code></a></li>
<li _o="347" _o-sc="16,2" _o-l="16" _o-e="17,0" _o-tl="-1" _o-s="16,0" _o-cl="0" id="8705354b"><a _o="349" _o-sc="16,3" LinkStatus="UNKNOWN" _o-l="16" _o-e="16,30" _o-tl="-1" _o-s="16,2" href="aggregatePivot.md" _o-cl="2" id="d370954"><code _o="350" _o-sc="16,4" _o-l="16" _o-e="16,10" _o-tl="-1" _o-s="16,3" _o-cl="3" id="a96d02d3">Pivot</code></a></li>
<li _o="378" _o-sc="17,2" _o-l="17" _o-e="18,0" _o-tl="-1" _o-s="17,0" _o-cl="0" id="7c6d3c3"><a _o="380" _o-sc="17,3" LinkStatus="UNKNOWN" _o-l="17" _o-e="17,37" _o-tl="-1" _o-s="17,2" href="aggregatePivot.md" _o-cl="2" id="122341e1"><code _o="381" _o-sc="17,4" _o-l="17" _o-e="17,17" _o-tl="-1" _o-s="17,3" _o-cl="3" id="8dbfda4e">PivotGroupBy</code></a></li>
</list>

<code _o="452" _o-sc="22,0" _o-l="21" _o-e="27,3" _o-tl="-1" _o-s="21,0" style="block" _o-cl="0" id="c880fc50" lang="kotlin">df.mean()
df.age.sum()
df.groupBy { city }.mean()
df.pivot { city }.median()
df.pivot { city }.groupBy { name.lastName }.std()
</code>

<p _o="607" _o-sc="31,0" _o-l="31" _o-e="32,0" _o-tl="-1" _o-s="31,0" _o-cl="0" id="6e8ab3ac"><a _o="607" _o-sc="31,1" LinkStatus="UNKNOWN" _o-l="31" _o-e="31,13" _o-tl="-1" _o-s="31,0" href="sum.md" _o-cl="0" id="1968a51f">sum</a>, <a _o="622" _o-sc="31,16" LinkStatus="UNKNOWN" _o-l="31" _o-e="31,30" _o-tl="-1" _o-s="31,15" href="mean.md" _o-cl="15" id="c9b46580">mean</a>, <a _o="639" _o-sc="31,33" LinkStatus="UNKNOWN" _o-l="31" _o-e="31,45" _o-tl="-1" _o-s="31,32" href="std.md" _o-cl="32" id="f4516566">std</a> are available for numeric columns of types <code _o="696" _o-sc="31,90" _o-l="31" _o-e="31,94" _o-tl="-1" _o-s="31,89" _o-cl="89" id="89995da7">Int</code>, <code _o="703" _o-sc="31,97" _o-l="31" _o-e="31,104" _o-tl="-1" _o-s="31,96" _o-cl="96" id="84ff5591">Double</code>, <code _o="713" _o-sc="31,107" _o-l="31" _o-e="31,113" _o-tl="-1" _o-s="31,106" _o-cl="106" id="2ad443d8">Float</code>, <code _o="722" _o-sc="31,116" _o-l="31" _o-e="31,127" _o-tl="-1" _o-s="31,115" _o-cl="115" id="ebb5ead6">BigDecimal</code>, <code _o="736" _o-sc="31,130" _o-l="31" _o-e="31,135" _o-tl="-1" _o-s="31,129" _o-cl="129" id="a87c92b5">Long</code>, <code _o="744" _o-sc="31,138" _o-l="31" _o-e="31,143" _o-tl="-1" _o-s="31,137" _o-cl="137" id="5f413e99">Byte</code>.</p>
<p _o="753" _o-sc="33,0" _o-l="33" _o-e="34,0" _o-tl="-1" _o-s="33,0" _o-cl="0" id="75412e3e"><a _o="753" _o-sc="33,1" LinkStatus="UNKNOWN" _o-l="33" _o-e="33,20" _o-tl="-1" _o-s="33,0" href="minmax.md" _o-cl="0" id="7da00db0">min/max</a>, <a _o="775" _o-sc="33,23" LinkStatus="UNKNOWN" _o-l="33" _o-e="33,41" _o-tl="-1" _o-s="33,22" href="median.md" _o-cl="22" id="25841ce5">median</a> are available for <code _o="813" _o-sc="33,61" _o-l="33" _o-e="33,72" _o-tl="-1" _o-s="33,60" _o-cl="60" id="8fec16e7">Comparable</code> columns.</p>
<p _o="836" _o-sc="35,0" _o-l="35" _o-e="36,0" _o-tl="-1" _o-s="35,0" _o-cl="0" id="6e137350">When statistics <code _o="852" _o-sc="35,17" _o-l="35" _o-e="35,19" _o-tl="-1" _o-s="35,16" _o-cl="16" id="32e88ae8">x</code> is applied to several columns, it can be computed in several modes:</p>
<list _o="924" _o-sc="36,0" _o-l="36" _o-e="40,0" _o-tl="-1" _o-s="36,0" _o-cl="0" id="3fb78bc7">
<li _o="924" _o-sc="36,2" _o-l="36" _o-e="37,0" _o-tl="-1" _o-s="36,0" _o-cl="0" id="16e836c8"><code _o="926" _o-sc="36,3" _o-l="36" _o-e="36,16" _o-tl="-1" _o-s="36,2" _o-cl="2" id="6cc3e323">x(): DataRow</code> computes separate value per every suitable column</li>
<li _o="991" _o-sc="37,2" _o-l="37" _o-e="38,0" _o-tl="-1" _o-s="37,0" _o-cl="0" id="3a90661c"><code _o="993" _o-sc="37,3" _o-l="37" _o-e="37,24" _o-tl="-1" _o-s="37,2" _o-cl="2" id="dbdc4133">x { columns }: Value</code> computes single value across all given columns</li>
<li _o="1064" _o-sc="38,2" _o-l="38" _o-e="39,0" _o-tl="-1" _o-s="38,0" _o-cl="0" id="ecadb230"><code _o="1066" _o-sc="38,3" _o-l="38" _o-e="38,29" _o-tl="-1" _o-s="38,2" _o-cl="2" id="17138d5b">xFor { columns }: DataRow</code> computes separate value per every given column</li>
<li _o="1141" _o-sc="39,2" _o-l="39" _o-e="40,0" _o-tl="-1" _o-s="39,0" _o-cl="0" id="1ba74c31"><code _o="1143" _o-sc="39,3" _o-l="39" _o-e="39,32" _o-tl="-1" _o-s="39,2" _o-cl="2" id="ca1e9837">xOf { rowExpression }: Value</code> computes single value across results of <a _o="1214" _o-sc="39,74" LinkStatus="UNKNOWN" _o-l="39" _o-e="39,117" _o-tl="-1" _o-s="39,73" href="DataRow.md#row-expressions" _o-cl="73" id="20c74ffa">row expression</a> evaluated for every row</li>
</list>
<p _o="1284" _o-sc="41,0" _o-l="41" _o-e="42,0" _o-tl="-1" _o-s="41,0" _o-cl="0" id="e8d371c2"><a _o="1284" _o-sc="41,1" LinkStatus="UNKNOWN" _o-l="41" _o-e="41,16" _o-tl="-1" _o-s="41,0" href="minmax.md" _o-cl="0" id="1930713c">min</a> and <a _o="1305" _o-sc="41,22" LinkStatus="UNKNOWN" _o-l="41" _o-e="41,37" _o-tl="-1" _o-s="41,21" href="minmax.md" _o-cl="21" id="26005bdc">max</a> statistics have additional mode <code _o="1354" _o-sc="41,71" _o-l="41" _o-e="41,74" _o-tl="-1" _o-s="41,70" _o-cl="70" id="317e06fc">by</code>:</p>
<list _o="1360" _o-sc="42,0" _o-l="42" _o-e="43,0" _o-tl="-1" _o-s="42,0" _o-cl="0" id="c040ee38">
<li _o="1360" _o-sc="42,2" _o-l="42" _o-e="43,0" _o-tl="-1" _o-s="42,0" _o-cl="0" id="5a92c230"><code _o="1362" _o-sc="42,3" _o-l="42" _o-e="42,36" _o-tl="-1" _o-s="42,2" _o-cl="2" id="6ab93e3b">minBy { rowExpression }: DataRow</code> finds a row with minimal result of <a _o="1432" _o-sc="42,73" LinkStatus="UNKNOWN" _o-l="42" _o-e="42,112" _o-tl="-1" _o-s="42,72" href="DataRow.md#row-expressions" _o-cl="72" id="eb497eb7">expression</a></li>
</list>

<code _o="1502" _o-sc="47,0" _o-l="46" _o-e="51,3" _o-tl="-1" _o-s="46,0" style="block" _o-cl="0" id="71cc0148" lang="kotlin">df.sum() // sum of values per every numeric column
df.sum { age and weight } // sum of all values in `age` and `weight`
df.sumFor { age and weight } // sum of values per `age` and `weight` separately
df.sumOf { (weight ?: 0) / age } // sum of expression evaluated for every row
</code>

<chapter _o="1808" _o-sc="55,4" _o-l="55" _o-e="55,22" _o-tl="-1" _o-s="55,0" _o-cl="0" id="groupby-statistics" title="groupBy statistics">
<p _o="1832" _o-sc="57,0" _o-l="57" _o-e="58,0" _o-tl="-1" _o-s="57,0" _o-cl="0" id="5110955c">When statistics is applied to <code _o="1862" _o-sc="57,31" _o-l="57" _o-e="57,39" _o-tl="-1" _o-s="57,30" _o-cl="30" id="b27c7d08">GroupBy</code>, it is computed for every data group.</p>
<p _o="1912" _o-sc="59,0" _o-l="59" _o-e="60,0" _o-tl="-1" _o-s="59,0" _o-cl="0" id="2a672bb7">If statistic is applied in a mode that returns a single value for every data group, it will be stored in a single column named by statistic name.</p>

<code _o="2095" _o-sc="64,0" _o-l="63" _o-e="66,3" _o-tl="-1" _o-s="63,0" style="block" _o-cl="0" id="290bf29f" lang="kotlin">df.groupBy { city }.mean { age } // [`city`, `mean`]
df.groupBy { city }.meanOf { age / 2 } // [`city`, `mean`]
</code>

<p _o="2235" _o-sc="70,0" _o-l="70" _o-e="71,0" _o-tl="-1" _o-s="70,0" _o-cl="0" id="27f530c6">You can also pass custom name for aggregated column:</p>

<code _o="2330" _o-sc="75,0" _o-l="74" _o-e="77,3" _o-tl="-1" _o-s="74,0" style="block" _o-cl="0" id="7728e656" lang="kotlin">df.groupBy { city }.mean("mean age") { age } // [`city`, `mean age`]
df.groupBy { city }.meanOf("custom") { age / 2 } // [`city`, `custom`]
</code>

<p _o="2498" _o-sc="81,0" _o-l="81" _o-e="82,0" _o-tl="-1" _o-s="81,0" _o-cl="0" id="e829655d">If statistic is applied in a mode that returns separate value per every column in data group, aggregated values will be stored in columns with original column names.</p>

<code _o="2699" _o-sc="86,0" _o-l="85" _o-e="88,3" _o-tl="-1" _o-s="85,0" style="block" _o-cl="0" id="9deb483f" lang="kotlin">df.groupBy { city }.meanFor { age and weight } // [`city`, `age`, `weight`]
df.groupBy { city }.mean() // [`city`, `age`, `weight`, ...]
</code>

</chapter><chapter _o="2864" _o-sc="92,4" _o-l="92" _o-e="92,20" _o-tl="-1" _o-s="92,0" _o-cl="0" id="pivot-statistics" title="pivot statistics">
<p _o="2886" _o-sc="94,0" _o-l="94" _o-e="95,0" _o-tl="-1" _o-s="94,0" _o-cl="0" id="e24f093f">When statistics is applied to <code _o="2916" _o-sc="94,31" _o-l="94" _o-e="94,37" _o-tl="-1" _o-s="94,30" _o-cl="30" id="a1bc8841">Pivot</code> or <code _o="2927" _o-sc="94,42" _o-l="94" _o-e="94,55" _o-tl="-1" _o-s="94,41" _o-cl="41" id="db6059cd">PivotGroupBy</code>, it is computed for every data group.</p>
<p _o="2981" _o-sc="96,0" _o-l="96" _o-e="97,0" _o-tl="-1" _o-s="96,0" _o-cl="0" id="20bd36e7">If statistic is applied in a mode that returns a single value for every data group, it will be stored in matrix cell without any name.</p>

<code _o="3151" _o-sc="101,0" _o-l="100" _o-e="103,3" _o-tl="-1" _o-s="100,0" style="block" _o-cl="0" id="362b3aaa" lang="kotlin">df.groupBy { city }.pivot { name.lastName }.mean { age }
df.groupBy { city }.pivot { name.lastName }.meanOf { age / 2 }
</code>

<p _o="3299" _o-sc="107,0" _o-l="107" _o-e="108,0" _o-tl="-1" _o-s="107,0" _o-cl="0" id="bc683b39">If statistic is applied in such a way that it returns separate value per every column in data group, every cell in matrix will contain <code _o="3434" _o-sc="107,136" _o-l="107" _o-e="107,144" _o-tl="-1" _o-s="107,135" _o-cl="135" id="3f2ccf7d">DataRow</code> with values for every aggregated column.</p>

<code _o="3518" _o-sc="112,0" _o-l="111" _o-e="114,3" _o-tl="-1" _o-s="111,0" style="block" _o-cl="0" id="f52a59a2" lang="kotlin">df.groupBy { city }.pivot { name.lastName }.meanFor { age and weight }
df.groupBy { city }.pivot { name.lastName }.mean()
</code>

<p _o="3668" _o-sc="118,0" _o-l="118" _o-e="119,0" _o-tl="-1" _o-s="118,0" _o-cl="0" id="7c414648">To group columns in aggregation results not by pivoted values, but by aggregated columns, apply <code _o="3764" _o-sc="118,97" _o-l="118" _o-e="118,106" _o-tl="-1" _o-s="118,96" _o-cl="96" id="d7397b28">separate</code> flag:</p>

<code _o="3822" _o-sc="123,0" _o-l="122" _o-e="125,3" _o-tl="-1" _o-s="122,0" style="block" _o-cl="0" id="5fa0e3de" lang="kotlin">df.groupBy { city }.pivot { name.lastName }.meanFor(separate = true) { age and weight }
df.groupBy { city }.pivot { name.lastName }.mean(separate = true)
</code>

</chapter></topic>